(this["webpackJsonpvisualisation-d3"]=this["webpackJsonpvisualisation-d3"]||[]).push([[0],{17:function(e,t,a){},28:function(e,t,a){e.exports=a(33)},33:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(22),i=a.n(c),l=a(2),o=(a(17),a(8)),s=a(9),y=a(10),m=a(12),u=a(11),g=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e="0 0 ".concat(500," ").concat(900),t={paddingBottom:"180%"},a={stroke:"rgba(70, 130, 180,.3)",strokeWidth:1},r={stroke:"rgba(70, 130, 180,.7)",strokeWidth:1},c={stroke:"rgba(70, 130, 180,.7)",strokeWidth:2},i=this.props.data_terms,o=(this.props.itemsDisplay,this.props.data_weight),s=this.props.cat,y=i.length,m=75+27*y,u=230/l.b(i,(function(e){return+Math.round(e.Total)})),g=l.e().domain([l.c(o,(function(e){return+e.proportion})),l.b(o,(function(e){return+e.proportion}))]).range([5,17]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"svg-container",style:t},n.a.createElement("svg",{preserveAspectRatio:"xMidYMidmeet",viewBox:e,className:"svg-content-responsive"},n.a.createElement("line",{x1:5,x2:495,y1:5,y2:5,style:c}),n.a.createElement("text",{className:"svg_h1",x:12,y:50},"Topic weight"),n.a.createElement("text",{className:"svg_h1",x:110,y:50},"Default"==s?"Term frequency - All Topics":"Term frequency - "+s," "),n.a.createElement("line",{x1:5,x2:495,y1:55,y2:55,style:r}),n.a.createElement("line",{x1:5,x2:495,y1:m,y2:m,style:c}),n.a.createElement("rect",{x:345,y:24,width:"12",height:"10",fill:"rgba(243, 157, 65,1)"}),n.a.createElement("text",{x:365,y:34,className:"svg_text_2"},"Frequency within topic"),n.a.createElement("rect",{x:345,y:40,width:"12",height:"10",fill:"rgba(70, 130, 180,.7)"}),n.a.createElement("text",{x:365,y:50,className:"svg_text_2"},"Overall term frequency"),n.a.createElement("line",{x1:230,x2:230,y1:55,y2:m,style:a}),n.a.createElement("line",{x1:5,x2:5,y1:5,y2:m,style:c}),n.a.createElement("line",{x1:100,x2:100,y1:5,y2:m,style:c}),n.a.createElement("line",{x1:495,x2:495,y1:5,y2:m,style:c}),o.map((function(e,t){return n.a.createElement(n.a.Fragment,{key:"frag_"+t},n.a.createElement("line",{key:t+"_1_",x1:5,x2:100,y1:135+80*t,y2:135+80*t,style:r}),n.a.createElement("text",{key:t+"2_",x:50,y:87+80*t,className:"svg_h2"},"Topic "+(+e.topic_id+1)),n.a.createElement("circle",{key:t+"_c",cx:25,cy:95+80*t,r:g(e.proportion),fill:"Topic"+(+e.topic_id+1)==s?"rgba(243, 157, 65,.8)":"rgba(70, 130, 180,.8)"}),n.a.createElement("text",{key:t+"_prc",x:55,y:102+80*t,className:"svg_h1"},Math.round(100*e.proportion,2)+"%"))})),i.map((function(e,t){return n.a.createElement(n.a.Fragment,{key:"frag_2_"+t},n.a.createElement("text",{key:t+"_term_",x:110,y:90+27*t,className:"svg_text"},e.Term),n.a.createElement("line",{key:t+"_l",x1:105,x2:495,y1:91+27*t,y2:91+27*t,style:a}),n.a.createElement("rect",{key:t+"_r1",x:230,y:"Default"==e.Category?80+27*t:82+27*t,width:+e.Total*u,height:"Default"==e.Category?"12":"8",fill:"rgba(70, 130, 180,.8)"}),n.a.createElement("text",{key:t+"_tot_",x:232+ +e.Total*u,y:89+27*t,className:"svg_text_3"},"Default"==e.Category?Number(e.Total).toFixed(0):Number(e.Total).toFixed(1)),n.a.createElement("rect",{key:t+"_r2",x:230,y:72+27*t,width:+e.Freq*u,height:"8",fill:"Default"==e.Category?"rgba(70, 130, 180,0)":"rgba(243, 157, 65,.8)"}),n.a.createElement("text",{key:t+"_tot2_",x:232+ +e.Freq*u,y:79+27*t,className:"svg_text_3",fill:"Default"==e.Category?"rgba(70, 130, 180,0)":"rgb(0, 0, 0)"},Number(e.Freq).toFixed(1)))})))))}}]),a}(n.a.Component),p=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={Category:"Default",Color:"rgba(70, 130, 180,.8)"},r.handleChange=r.handleChange.bind(Object(y.a)(r)),r}return Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState({Category:e.target.value})}},{key:"render",value:function(){var e=this.props.topic_info,t=this.props.topic_proportion,a=l.d().key((function(e){return e.Category})).entries(e),r=this.state.Category,c=e.filter((function(e){return e.Category===r})).slice(0,30),i=t;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"select_box"},n.a.createElement("select",{value:this.state.Category,onChange:this.handleChange},a.map((function(e){return n.a.createElement("option",{key:e.key},e.key)})))),n.a.createElement("div",{className:"main_container_svg"},n.a.createElement(g,{data_terms:c,data_weight:i,itemsDisplay:30,cat:this.state.Category})))}}]),a}(n.a.Component);Promise.all([l.a("/topic_info.csv"),l.a("/topic_proportion.csv")]).then((function(e){var t=e[0],a=e[1];i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(p,{topic_info:t,topic_proportion:a})),document.getElementById("vis_tm_1"))})).catch((function(e){}))}},[[28,1,2]]]);
//# sourceMappingURL=main.c8962a70.chunk.js.map